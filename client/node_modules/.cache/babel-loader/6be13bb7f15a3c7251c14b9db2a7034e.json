{"ast":null,"code":"import _slicedToArray from\"/Users/balajikamalanathan/Documents/GitHub/react-node-stripe-payment/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import style from\"./ListPaymentMethods.module.scss\";import{format}from\"date-fns\";import{getRequest}from\"../utils/api\";import{getCardImage}from\"../utils/helpers\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ListPaymentMethods(_ref){var _this=this;var handleSelectCard=_ref.handleSelectCard,amount=_ref.amount;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),paymentMethods=_useState2[0],setPaymentMethods=_useState2[1];function getPaymentMethods(){getRequest(\"/payment/methods\").then(function(resp){console.log(resp.data.data);setPaymentMethods(resp.data.data);}).catch(function(err){console.log(err);});}useEffect(getPaymentMethods,[]);return/*#__PURE__*/_jsxs(\"div\",{className:style.wrapper,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Select your preferred payment method\"}),paymentMethods&&paymentMethods.map(function(method){return/*#__PURE__*/_jsxs(\"div\",{className:style.card,onClick:handleSelectCard.bind(_this,method),children:[/*#__PURE__*/_jsx(\"div\",{className:style.cardLogo,children:/*#__PURE__*/_jsx(\"img\",{src:getCardImage(method.card.brand),alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:style.details,children:[/*#__PURE__*/_jsxs(\"p\",{children:[method.card.brand,\" **** \",method.card.last4]}),/*#__PURE__*/_jsx(\"p\",{children:method.billing_details.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:style.expire,children:[\"Expires\",\" \",format(new Date(\"\".concat(method.card.exp_year,\"/\").concat(method.card.exp_month,\"/01\")),\"MM/yyyy\")]})]});})]});}","map":{"version":3,"names":["React","useEffect","useState","style","format","getRequest","getCardImage","jsx","_jsx","jsxs","_jsxs","ListPaymentMethods","_ref","_this","handleSelectCard","amount","_useState","_useState2","_slicedToArray","paymentMethods","setPaymentMethods","getPaymentMethods","then","resp","console","log","data","catch","err","className","wrapper","children","map","method","card","onClick","bind","cardLogo","src","brand","alt","details","last4","billing_details","name","expire","Date","concat","exp_year","exp_month"],"sources":["/Users/balajikamalanathan/Documents/GitHub/react-node-stripe-payment/client/src/components/ListPaymentMethods.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport style from \"./ListPaymentMethods.module.scss\";\n\nimport { format } from \"date-fns\";\nimport { getRequest } from \"../utils/api\";\nimport { getCardImage } from \"../utils/helpers\";\n\nexport default function ListPaymentMethods({ handleSelectCard, amount }) {\n  const [paymentMethods, setPaymentMethods] = useState(null);\n\n  function getPaymentMethods() {\n    getRequest(`/payment/methods`)\n      .then((resp) => {\n        console.log(resp.data.data);\n        setPaymentMethods(resp.data.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  useEffect(getPaymentMethods, []);\n\n  return (\n    <div className={style.wrapper}>\n      <h3>Select your preferred payment method</h3>\n      {paymentMethods &&\n        paymentMethods.map((method) => (\n          <div className={style.card} onClick={handleSelectCard.bind(this, method)}>\n            <div className={style.cardLogo}>\n              <img src={getCardImage(method.card.brand)} alt=\"\" />\n            </div>\n\n            <div className={style.details}>\n              <p>\n                {method.card.brand} **** {method.card.last4}\n              </p>\n              <p>{method.billing_details.name}</p>\n            </div>\n\n            <div className={style.expire}>\n              Expires{\" \"}\n              {format(new Date(`${method.card.exp_year}/${method.card.exp_month}/01`), \"MM/yyyy\")}\n            </div>\n          </div>\n        ))}\n    </div>\n  );\n}\n"],"mappings":"iKAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,kCAAkC,CAEpD,OAASC,MAAM,KAAQ,UAAU,CACjC,OAASC,UAAU,KAAQ,cAAc,CACzC,OAASC,YAAY,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhD,cAAe,SAAS,CAAAC,kBAAkBA,CAAAC,IAAA,CAA+B,KAAAC,KAAA,SAA5B,CAAAC,gBAAgB,CAAAF,IAAA,CAAhBE,gBAAgB,CAAEC,MAAM,CAAAH,IAAA,CAANG,MAAM,CACnE,IAAAC,SAAA,CAA4Cd,QAAQ,CAAC,IAAI,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnDG,cAAc,CAAAF,UAAA,IAAEG,iBAAiB,CAAAH,UAAA,IAExC,QAAS,CAAAI,iBAAiBA,CAAA,CAAG,CAC3BhB,UAAU,oBAAoB,CAC3BiB,IAAI,CAAC,SAACC,IAAI,CAAK,CACdC,OAAO,CAACC,GAAG,CAACF,IAAI,CAACG,IAAI,CAACA,IAAI,CAAC,CAC3BN,iBAAiB,CAACG,IAAI,CAACG,IAAI,CAACA,IAAI,CAAC,CACnC,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,CAAK,CACdJ,OAAO,CAACC,GAAG,CAACG,GAAG,CAAC,CAClB,CAAC,CAAC,CACN,CAEA3B,SAAS,CAACoB,iBAAiB,CAAE,EAAE,CAAC,CAEhC,mBACEX,KAAA,QAAKmB,SAAS,CAAE1B,KAAK,CAAC2B,OAAQ,CAAAC,QAAA,eAC5BvB,IAAA,OAAAuB,QAAA,CAAI,sCAAoC,EAAK,CAC5CZ,cAAc,EACbA,cAAc,CAACa,GAAG,CAAC,SAACC,MAAM,qBACxBvB,KAAA,QAAKmB,SAAS,CAAE1B,KAAK,CAAC+B,IAAK,CAACC,OAAO,CAAErB,gBAAgB,CAACsB,IAAI,CAACvB,KAAI,CAAEoB,MAAM,CAAE,CAAAF,QAAA,eACvEvB,IAAA,QAAKqB,SAAS,CAAE1B,KAAK,CAACkC,QAAS,CAAAN,QAAA,cAC7BvB,IAAA,QAAK8B,GAAG,CAAEhC,YAAY,CAAC2B,MAAM,CAACC,IAAI,CAACK,KAAK,CAAE,CAACC,GAAG,CAAC,EAAE,EAAG,EAChD,cAEN9B,KAAA,QAAKmB,SAAS,CAAE1B,KAAK,CAACsC,OAAQ,CAAAV,QAAA,eAC5BrB,KAAA,MAAAqB,QAAA,EACGE,MAAM,CAACC,IAAI,CAACK,KAAK,CAAC,QAAM,CAACN,MAAM,CAACC,IAAI,CAACQ,KAAK,GACzC,cACJlC,IAAA,MAAAuB,QAAA,CAAIE,MAAM,CAACU,eAAe,CAACC,IAAI,EAAK,GAChC,cAENlC,KAAA,QAAKmB,SAAS,CAAE1B,KAAK,CAAC0C,MAAO,CAAAd,QAAA,EAAC,SACrB,CAAC,GAAG,CACV3B,MAAM,CAAC,GAAI,CAAA0C,IAAI,IAAAC,MAAA,CAAId,MAAM,CAACC,IAAI,CAACc,QAAQ,MAAAD,MAAA,CAAId,MAAM,CAACC,IAAI,CAACe,SAAS,QAAM,CAAE,SAAS,CAAC,GAC/E,GACF,EACP,CAAC,GACA,CAEV"},"metadata":{},"sourceType":"module"}